<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Installation &mdash; ForMoSA 2.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />

  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=51b770b3"></script>
        <script src="_static/doctools.js?v=9a2dae69"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Tutorials" href="demo.html" />
    <link rel="prev" title="Forward Modeling Tool for Spectral Analysis" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            ForMoSA
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#create-a-conda-environment">Create a conda environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="#a-installation-though-pypi">A. Installation though PyPI</a></li>
<li class="toctree-l2"><a class="reference internal" href="#b-installation-though-github">B. Installation though GitHub</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pymultinest-users">PyMultiNest users</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="demo.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">ForMoSA API</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">ForMoSA</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Installation</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/installation.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="installation">
<span id="id1"></span><h1>Installation<a class="headerlink" href="#installation" title="Link to this heading"></a></h1>
<p>There are two possibilities to install <code class="docutils literal notranslate"><span class="pre">ForMoSA</span></code>.
Installation of the package through <code class="docutils literal notranslate"><span class="pre">PyPI</span></code> or through <code class="docutils literal notranslate"><span class="pre">GitHub</span></code>.</p>
<section id="create-a-conda-environment">
<h2>Create a conda environment<a class="headerlink" href="#create-a-conda-environment" title="Link to this heading"></a></h2>
<p>We strongly recommend using a <code class="docutils literal notranslate"><span class="pre">conda</span></code> environment. You can <a class="reference external" href="https://conda.io/docs/user-guide/tasks/manage-environments.html">learn more about conda here</a> .</p>
<p>(For all users)</p>
<p>You can create your environment as:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>conda<span class="w"> </span>create<span class="w"> </span>-n<span class="w"> </span>env_formosa<span class="w"> </span><span class="nv">python</span><span class="o">=</span><span class="m">3</span>.11
<span class="gp">$ </span>conda<span class="w"> </span>activate<span class="w"> </span>env_formosa
</pre></div>
</div>
<p>(For macOS users)</p>
<p>To install and use our package in macOS with an M1 chip, a few extra steps are required.
To use PyMultiNest to paralelize the processes, make sure you are building your conda environment under an OSX-ARM64 architecture. You can <a class="reference external" href="https://stackoverflow.com/questions/65415996/how-to-specify-the-architecture-or-platform-for-a-new-conda-environment-apple">learn more here</a> .</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nv">CONDA_SUBDIR</span><span class="o">=</span>osx-arm64<span class="w"> </span>conda<span class="w"> </span>create<span class="w"> </span>-n<span class="w"> </span>env_formosa<span class="w"> </span><span class="nv">python</span><span class="o">=</span><span class="m">3</span>.11<span class="w"> </span>numpy<span class="w"> </span>-c<span class="w"> </span>conda-forge
<span class="gp">$ </span>conda<span class="w"> </span>activate<span class="w"> </span>env_formosa
<span class="gp">$ </span>conda<span class="w"> </span>config<span class="w"> </span>--env<span class="w"> </span>--set<span class="w"> </span>subdir<span class="w"> </span>osx-arm64
</pre></div>
</div>
</section>
<section id="a-installation-though-pypi">
<h2>A. Installation though PyPI<a class="headerlink" href="#a-installation-though-pypi" title="Link to this heading"></a></h2>
<p>PyPI is the <a class="reference external" href="https://packaging.python.org/tutorials/installing-packages/">pip package manager</a>, which will automatically install for you almost all the required dependencies in your environment.
To install the latest version run:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>pip<span class="w"> </span>install<span class="w"> </span>ForMoSA
</pre></div>
</div>
<p>To solve a standard error, run the following line in your environment:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>conda<span class="w"> </span>install<span class="w"> </span>xarray<span class="w"> </span>dask<span class="w"> </span>netCDF4<span class="w"> </span>bottleneck
</pre></div>
</div>
</section>
<section id="b-installation-though-github">
<h2>B. Installation though GitHub<a class="headerlink" href="#b-installation-though-github" title="Link to this heading"></a></h2>
<p>Install the following packages in your environment with pip install:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>numpy
<span class="gp">$ </span>matplotlib
<span class="gp">$ </span>corner
<span class="gp">$ </span>astropy
<span class="gp">$ </span>scipy
<span class="gp">$ </span>configobj
<span class="gp">$ </span>extinction
<span class="gp">$ </span>nestle
<span class="gp">$ </span>PyAstronomy
<span class="gp">$ </span>spectres
<span class="gp">$ </span>pyyaml
<span class="gp">$ </span>importlib-metadata<span class="o">==</span><span class="m">4</span>.13.0
<span class="gp">$ </span><span class="nv">xarray</span><span class="o">==</span><span class="m">2023</span>.10.1
</pre></div>
</div>
<p>To solve a standard error, run the following line in your environment:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>conda<span class="w"> </span>install<span class="w"> </span>xarray<span class="w"> </span>dask<span class="w"> </span>netCDF4<span class="w"> </span>bottleneck
</pre></div>
</div>
<p>The last instalation step is to actually get ForMoSA.
ForMoSA can be cloned from the main branch from our GitHub repository.
You can do it by moving to the desired directory on your terminal and writing:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">cd</span><span class="w"> </span>~/YOUR_PATH/formosa_desk/
<span class="gp">$ </span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/exoAtmospheres/ForMoSA.git
</pre></div>
</div>
</section>
<section id="pymultinest-users">
<h2>PyMultiNest users<a class="headerlink" href="#pymultinest-users" title="Link to this heading"></a></h2>
<p>If you want to use Pymultinest to run your inversion, follow the installation instructions from <a class="reference external" href="https://johannesbuchner.github.io/PyMultiNest/install.html">PyMultinest</a>, detailed below.</p>
<p>First, you need to clone PyMultinest from GitHub and install it.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">cd</span><span class="w"> </span>~/YOUR_PATH/formosa_desk/
<span class="gp">$ </span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/JohannesBuchner/PyMultiNest/
<span class="gp">$ </span><span class="nb">cd</span><span class="w"> </span>PyMultiNest
<span class="gp">$ </span>python<span class="w"> </span>setup.py<span class="w"> </span>install
</pre></div>
</div>
<p>Second, you need to corroborate that your system has a C++ and a Fortran interpreter.
If you need to install brew, follow <a class="reference external" href="https://brew.sh/">these instructions</a>.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>brew<span class="w"> </span>install<span class="w"> </span>cmake
<span class="gp">$ </span>brew<span class="w"> </span>install<span class="w"> </span>gcc
<span class="gp">$ </span>brew<span class="w"> </span>install<span class="w"> </span>open-mpi
</pre></div>
</div>
<p>Next, in your ForMoSA environment, install mpi4pi as:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>pip<span class="w"> </span>install<span class="w"> </span>mpi4py
</pre></div>
</div>
<p>Then, install MultiNest by cloning the GitHub repository and building it.
Make sure you empty the build folder if you run this step more than once.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">cd</span><span class="w"> </span>~/YOUR_PATH/formosa_desk/
<span class="gp">$ </span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/JohannesBuchner/MultiNest
<span class="gp">$ </span><span class="nb">cd</span><span class="w"> </span>MultiNest/build
<span class="gp">$ </span>cmake<span class="w"> </span>..
<span class="gp">$ </span>make
</pre></div>
</div>
<p>Finally, copy the files that were generated by building MultiNest onto your conda environment by doing:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cp<span class="w"> </span>-v<span class="w"> </span>~/YOUR_PATH/MultiNest/lib/*<span class="w"> </span>/YOUR_PATH/opt/anaconda3/envs/env_formosa/lib/
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Forward Modeling Tool for Spectral Analysis" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="demo.html" class="btn btn-neutral float-right" title="Tutorials" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Simon Petrus, Paulina Palma-Bifani, Matthieu Ravet, Allan Denis, Mickaël Bonnefoy and Gaël Chauvin.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>